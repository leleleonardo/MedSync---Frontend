{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lucas\\\\Documents\\\\ADS\\\\TG\\\\MedSync---Frontend\\\\src\\\\pages\\\\UsuariosListagem\\\\ConsultasListagem\\\\EditarConsulta.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { Button, Snackbar, IconButton, Alert } from '@mui/material';\nimport NavBar from '../../../components/NavBar';\nimport BaseLayout from '../../../layouts/BaseLayout';\nimport api from '../../../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EditarConsulta() {\n  _s();\n  let navigate = useNavigate();\n  let params = useParams();\n  const [newDate, setNewDate] = useState(\"\");\n  const [consulta, setConsulta] = useState([]);\n  const [hrConsulta, setHrConsulta] = useState('');\n  const [open, setOpen] = useState(false);\n  useEffect(() => {\n    getConsulta();\n  }, []);\n  async function getConsulta() {\n    const response = await api.get(`/consulta/${params.id}`);\n    setConsulta(response.data);\n    let horaConsulta = response.data[0].dt_hr_consulta;\n    console.log(horaConsulta);\n    setHrConsulta(horaConsulta.replace(':00.000Z', ''));\n  }\n  async function changeDate() {\n    await api.put('/consulta/changeDate', {\n      id_consulta: params.id,\n      new_date: newDate\n    });\n    handleClick();\n    setTimeout(() => {\n      navigate(`/inicio`);\n    }, 3000);\n  }\n  const handleClick = () => {\n    setOpen(true);\n  };\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setOpen(false);\n  };\n  return /*#__PURE__*/_jsxDEV(NavBar, {\n    children: /*#__PURE__*/_jsxDEV(BaseLayout, {\n      title: \"Editar Consulta\",\n      children: [/*#__PURE__*/_jsxDEV(Snackbar, {\n        anchorOrigin: {\n          vertical: 'top',\n          horizontal: 'center'\n        },\n        open: open,\n        autoHideDuration: 6000,\n        onClose: handleClose,\n        style: {\n          width: '40%'\n        },\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"filled\",\n          severity: \"success\",\n          onClose: handleClose,\n          sx: {\n            width: '100%'\n          },\n          children: \"Data da consulta atualizada com sucesso.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Nova Data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), \"Selecione a nova data da consulta.\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"datetime-local\",\n        id: \"meeting-time\",\n        defaultValue: hrConsulta,\n        onChange: e => setNewDate(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: changeDate,\n        children: \"Alterar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        color: \"error\",\n        onClick: () => navigate(`/consultas`),\n        children: \"Cancelar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(EditarConsulta, \"rbOkBzpUdi2Z89dYVbxoNFRzxYM=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c = EditarConsulta;\nvar _c;\n$RefreshReg$(_c, \"EditarConsulta\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useParams","Button","Snackbar","IconButton","Alert","NavBar","BaseLayout","api","jsxDEV","_jsxDEV","EditarConsulta","_s","navigate","params","newDate","setNewDate","consulta","setConsulta","hrConsulta","setHrConsulta","open","setOpen","getConsulta","response","get","id","data","horaConsulta","dt_hr_consulta","console","log","replace","changeDate","put","id_consulta","new_date","handleClick","setTimeout","handleClose","event","reason","children","title","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","style","width","variant","severity","sx","fileName","_jsxFileName","lineNumber","columnNumber","type","defaultValue","onChange","e","target","value","onClick","color","_c","$RefreshReg$"],"sources":["C:/Users/lucas/Documents/ADS/TG/MedSync---Frontend/src/pages/UsuariosListagem/ConsultasListagem/EditarConsulta.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useNavigate, useParams } from 'react-router-dom'\r\nimport { Button, Snackbar, IconButton, Alert } from '@mui/material';\r\nimport NavBar from '../../../components/NavBar'\r\nimport BaseLayout from '../../../layouts/BaseLayout'\r\nimport api from '../../../services/api'\r\n\r\nexport default function EditarConsulta() {\r\n  let navigate = useNavigate()\r\n  let params = useParams()\r\n  const [newDate, setNewDate] = useState(\"\")\r\n  const [consulta, setConsulta] = useState([])\r\n  const [hrConsulta, setHrConsulta] = useState('')\r\n  const [open, setOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    getConsulta()\r\n  },[])\r\n\r\n  async function getConsulta(){\r\n    const response = await api.get(`/consulta/${params.id}`)\r\n    setConsulta(response.data)  \r\n\r\n    let horaConsulta = response.data[0].dt_hr_consulta\r\n    console.log(horaConsulta)\r\n    setHrConsulta(horaConsulta.replace(':00.000Z', ''))\r\n  }\r\n  \r\n  async function changeDate(){\r\n    await api.put('/consulta/changeDate', {id_consulta: params.id, new_date: newDate})\r\n    handleClick()\r\n    setTimeout(() => {\r\n      navigate(`/inicio`)\r\n    }, 3000)\r\n    \r\n  }\r\n\r\n  const handleClick = () => {\r\n    setOpen(true);\r\n  };\t\r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n        return;\r\n    }\r\n    setOpen(false);\r\n  };\r\n\r\n\r\n  return (\r\n    <NavBar>\r\n        <BaseLayout title='Editar Consulta'>\r\n          <Snackbar anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n            open={open}\r\n            autoHideDuration={6000}\r\n            onClose={handleClose}\r\n            style={{width: '40%'}}\r\n          >\r\n            <Alert variant=\"filled\" severity=\"success\" onClose={handleClose} sx={{ width: '100%' }}>Data da consulta atualizada com sucesso.</Alert>\r\n          </Snackbar>\r\n          <h4>Nova Data</h4>\r\n\r\n              Selecione a nova data da consulta.\r\n          \r\n              <input type=\"datetime-local\" id=\"meeting-time\" defaultValue={hrConsulta} onChange={e => setNewDate(e.target.value)}/>\r\n          <br/>\r\n          <br/>\r\n            <Button onClick={changeDate}>Alterar</Button>\r\n            <Button color='error' onClick={() => navigate(`/consultas`)}>Cancelar</Button>\r\n        </BaseLayout>\r\n    </NavBar>\r\n\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}